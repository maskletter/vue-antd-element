{"version":3,"sources":["webpack:///./src/components/ckeditor.tsx","webpack:///./src/views/rich-text/ckeditor.tsx"],"names":["Ckeditor","props","content","ckeditor","$input","_value","modelValue","val","setData","CKEDITOR","replace","value","height","on","getData","emit","destroy","type","Number","default","String"],"mappings":"+JAIMA,G,8BAAW,gBAAgB,SAACC,EAA4CC,GAE1E,IAAIC,EACEC,EAAS,iBACXC,EAAiB,GA8CrB,OA5CA,iBAAM,kBAAOJ,EAAcK,cAAY,SAACC,GACjCA,GAAOF,GACVF,EAASK,QAAQD,MAGrB,gBAAY,WAERJ,EAAWM,SAASC,QAAQN,EAAOO,MAAc,CAC7CC,OAAQX,EAAMW,SAqBlBT,EAASK,QAASP,EAAcK,YAAcL,EAAMU,OAAS,IAC7DR,EAASU,GAAG,UAAU,WAClBR,EAASF,EAASW,UAClBZ,EAAQa,KAAK,oBAAqBV,SAK1C,gBAAc,WAIVF,EAASa,aAGN,4DACYZ,GADZ,aAMXJ,EAASC,MAAQ,CACbW,OAAQ,CACJK,KAAMC,OACNC,QAAS,KAEbb,WAAYc,OACZT,MAAOS,QAGI,Q,wBC9DA,6BAAgB,WAG3B,IAAMT,EAAQ,eAAI,OAElB,OAAO,yBAAC,aAAD,iCAAC,QAAD,MACS,QADT,2BAEEA,EAAMA,UAFR,OAAC,4BAAD,WAKgBA,EAAMA,MALtB,yCAKgBA,EAAMA,MALtB","file":"js/chunk-2d2079c6.33bf4a34.js","sourcesContent":["import { defineComponent, ref, onMounted, watch, onDeactivated, onActivated, onUnmounted } from \"vue\"\n// import CKEDITOR from 'CKEDITOR'\n\n\nconst Ckeditor = defineComponent((props: { height?: number, value?: string }, content) => {\n\n    let ckeditor!: CKEDITOR.editor\n    const $input = ref();\n    let _value: string = '';\n\n    watch(() => (props as any).modelValue, (val) => {\n        if(val == _value) return;\n        ckeditor.setData(val);\n    })\n\n    onActivated(() => {\n        \n        ckeditor = CKEDITOR.replace($input.value as any, {\n            height: props.height,\n            // toolbar: [\n            //     //加粗     斜体，     下划线      穿过线      下标字        上标字\n            //     ['Bold','Italic','Underline','Strike','Subscript','Superscript'],\n            //     // 数字列表          实体列表            减小缩进    增大缩进\n            //     ['NumberedList','BulletedList','-','Outdent','Indent'],\n            //     //左对 齐             居中对齐          右对齐          两端对齐\n            //     ['JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock'],\n            //     //超链接  取消超链接 锚点\n            //     ['Link','Unlink','Anchor'],\n            //     //图片    flash    表格       水平线            表情       特殊字符        分页符\n            //     ['Image','Flash','Table','HorizontalRule','Smiley','SpecialChar','PageBreak'],\n            //     '/',\n            //     // 样式       格式      字体    字体大小\n            //     ['Styles','Format','Font','FontSize'],\n            //     //文本颜色     背景颜色\n            //     ['TextColor','BGColor'],\n            //     //全屏           显示区块\n            //     ['Maximize', 'ShowBlocks','-']\n            //  ]\n        });\n        ckeditor.setData((props as any).modelValue || props.value || '')\n        ckeditor.on('change', () => {\n            _value = ckeditor.getData()\n            content.emit('update:modelValue', _value)\n        })\n\n    })\n\n    onDeactivated(() => {\n        /**\n         * ckeditor在keep-alive下回导致异常，因此需要手动销毁\n         */\n        ckeditor.destroy();\n    })\n\n    return () => <div>\n        <textarea ref={$input}></textarea>\n    </div>\n\n})\n\nCkeditor.props = {\n    height: {\n        type: Number,\n        default: 400\n    },\n    modelValue: String,\n    value: String\n} as any\n\nexport default Ckeditor;","import { ref, defineComponent } from 'vue';\nimport Page from '@/components/admin/page';\nimport Ckeditor from '@/components/ckeditor';\nimport { Card } from 'ant-design-vue';\nimport Br from '@/components/br';\n\n\nexport default defineComponent(() => {\n\n\n    const value = ref('222');\n\n    return () => <Page>\n        <Card title='编辑内容'>\n            {value.value}\n        </Card>\n        <Br />\n        <Ckeditor v-model={value.value} />\n    </Page>\n\n})"],"sourceRoot":""}