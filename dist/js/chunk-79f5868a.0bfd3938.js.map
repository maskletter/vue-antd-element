{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./src/components/table.tsx","webpack:///./node_modules/@ant-design/icons-svg/es/asn/AccountBookFilled.js","webpack:///./node_modules/@ant-design/icons-vue/es/icons/AccountBookFilled.js","webpack:///./src/views/table.tsx","webpack:///./src/components/admin/page.tsx"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","Table","props","_data","search","page","current","total","getData","index","data","formatData","_d","forEach","v","item","columns","j","render","dataIndex","undefined","push","value","val","immediate","bordered","rowKey","name","textAlign","margin","title","Function","content","Object","String","type","Boolean","default","_objectSpread","target","i","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","key","_defineProperty","defineProperty","configurable","writable","context","p","attrs","AntdIcon","displayName","inheritAttrs","id","list","marginRight","splice","data2","GeminiScrollbar","Page","myScrollbar","scrollTop","$el","$scroll","element","create","_viewElement","destroy","position","background","color","height","overflow","padding","boxSizing","fontSize","marginBottom","letterSpacing","slots"],"mappings":"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","file":"js/chunk-79f5868a.0bfd3938.js","sourcesContent":["export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import { defineComponent, VNode, watch, reactive, ref } from \"vue\";\r\nimport { Table as ATable, Pagination } from 'ant-design-vue'\r\n\r\ninterface Title {\r\n    (): VNode\r\n}\r\ninterface Data {\r\n    (search: any): void\r\n}\r\ninterface TableInterface {\r\n    title?: Title|string\r\n    content?: () => VNode\r\n    columns: any[]\r\n    data: Data|any[]\r\n    rowKey?: string,\r\n    bordered?: boolean,\r\n}\r\n\r\nconst Table = defineComponent((props: TableInterface) => {\r\n    let _data = ref<any[]>([]);\r\n    let search = reactive({\r\n        page: 16,\r\n        current: 3,\r\n        total: 0\r\n    })\r\n\r\n    const getData = async (index: number = 1) => {\r\n        search.current = index\r\n        const {data,total}: {data: any[], total: number} = await (props.data as any)(search);\r\n        formatData(data);\r\n        search.total = total;\r\n    }\r\n\r\n    const formatData = (data: any[]) => {\r\n        const _d: any[] = [];\r\n        data.forEach((v, index) => {\r\n            const item: any = {...v};\r\n            props.columns.forEach(j => {\r\n                j.render &&  (item[j.dataIndex] = j.render(v, index, typeof(props.data) == 'function' ? _data : undefined));\r\n            })\r\n            _d.push(item)\r\n        })\r\n        _data.value = _d;\r\n    }\r\n\r\n    if(typeof(props.data) == 'object') {\r\n        watch(props.data, (val: any[]) => {\r\n            formatData(val);\r\n        }, { immediate: true })\r\n    } else {\r\n        getData();\r\n    }\r\n    \r\n\r\n    return () => <>\r\n        <ATable\r\n            bordered={props.bordered}\r\n            columns={props.columns}\r\n            dataSource={_data.value}\r\n            rowKey={props.rowKey}\r\n            pagination={false}\r\n            v-slots={{\r\n                name: () => <div>222222</div>,\r\n            }}>\r\n\r\n        </ATable>\r\n        { typeof(props.data) == 'function' && <div style={{textAlign: 'center', margin: '15px 0'}}>\r\n            <Pagination onChange={getData} total={search.total} pageSize={search.page} />\r\n        </div> }\r\n    </>\r\n\r\n})\r\n\r\nTable.props = {\r\n    title: Function,\r\n    content: Function,\r\n    data: [Object, Function],\r\n    columns: Object,\r\n    rowKey: String,\r\n    bordered: {\r\n        type: Boolean,\r\n        default: false\r\n    }\r\n} as any\r\n\r\nexport default Table;","// This icon file is generated automatically.\nvar AccountBookFilled = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zM648.3 426.8l-87.7 161.1h45.7c5.5 0 10 4.5 10 10v21.3c0 5.5-4.5 10-10 10h-63.4v29.7h63.4c5.5 0 10 4.5 10 10v21.3c0 5.5-4.5 10-10 10h-63.4V752c0 5.5-4.5 10-10 10h-41.3c-5.5 0-10-4.5-10-10v-51.8h-63.1c-5.5 0-10-4.5-10-10v-21.3c0-5.5 4.5-10 10-10h63.1v-29.7h-63.1c-5.5 0-10-4.5-10-10v-21.3c0-5.5 4.5-10 10-10h45.2l-88-161.1c-2.6-4.8-.9-10.9 4-13.6 1.5-.8 3.1-1.2 4.8-1.2h46c3.8 0 7.2 2.1 8.9 5.5l72.9 144.3 73.2-144.3a10 10 0 018.9-5.5h45c5.5 0 10 4.5 10 10 .1 1.7-.3 3.3-1.1 4.8z\" } }] }, \"name\": \"account-book\", \"theme\": \"filled\" };\nexport default AccountBookFilled;\n","import * as _vue from \"vue\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport AccountBookFilledSvg from \"@ant-design/icons-svg/es/asn/AccountBookFilled\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar AccountBookFilled = function AccountBookFilled(props, context) {\n  var p = _objectSpread({}, props, context.attrs);\n\n  return _vue.createVNode(AntdIcon, _vue.mergeProps(p, {\n    \"icon\": AccountBookFilledSvg\n  }), null);\n};\n\nAccountBookFilled.displayName = 'AccountBookFilled';\nAccountBookFilled.inheritAttrs = false;\nexport default AccountBookFilled;","\r\nimport { defineComponent, reactive, Ref } from 'vue'\r\nimport Table from '@/components/table'\r\nimport Page from '@/components/admin/page'\r\nimport { AccountBookFilled } from \"@ant-design/icons-vue\";\r\nimport { Button, Card, Popconfirm } from 'ant-design-vue';\r\nimport Container from '@/components/container';\r\nimport Br from '@/components/br';\r\n\r\nexport default defineComponent(() => {\r\n\r\n    const data = reactive([\r\n        { id: 33, name: '张三' },\r\n        { id: 32, name: '李四' },\r\n        { id: 31, name: '大气' }\r\n    ])\r\n    const columns = [\r\n        {\r\n            dataIndex: 'id',\r\n            key: 'id',\r\n            title: 'id'\r\n        },\r\n        {\r\n            dataIndex: 'name',\r\n            key: 'name',\r\n            title: <text><AccountBookFilled />标题</text>,\r\n            render: (data: any, index: number) => <div>{index}--{data.name}</div>\r\n        },\r\n        {\r\n            dataIndex: 'operating',\r\n            key: 'operating',\r\n            title: <text>操作</text>,\r\n            render: (_data: any, index: number, list: Ref<any[]> ) => <div>\r\n                <Button size='small' type='primary' style={{marginRight: '15px'}}>没设置操作</Button>\r\n                <Popconfirm\r\n                    title='确定删除吗'\r\n                    okText='确定'\r\n                    cancelText='取消'\r\n                    onConfirm={() => {\r\n                        if(list && list.value) {\r\n                            list.value.splice(index, 1)\r\n                        } else {\r\n                            data.splice(index, 1)\r\n                        }\r\n                    }}\r\n                    >\r\n                    <Button size='small' type='danger' >删除</Button>\r\n                </Popconfirm>\r\n                \r\n            </div>\r\n        }\r\n    ]\r\n\r\n    const data2 = (search: any) => {\r\n        return {\r\n            data: [\r\n                { id: 33, name: '王五' },\r\n                { id: 33, name: '赵六' },\r\n                { id: 34, name: '赵awdawd六' }\r\n            ],\r\n            total: 100\r\n        };\r\n    }\r\n\r\n    return () => <Page title='还不完整的table组件221'>\r\n      \r\n        <Card title='传值渲染'>\r\n            <Table data={data}\r\n                bordered\r\n                columns={columns}\r\n                rowKey='id'>\r\n\r\n            </Table>\r\n        </Card>\r\n        <Br />\r\n        <Card title='通过render渲染'>\r\n            <Table data={data2}\r\n                bordered\r\n                columns={columns}\r\n                rowKey='id'>\r\n\r\n            </Table>\r\n        </Card>\r\n    </Page>\r\n\r\n})","import { defineComponent, getCurrentInstance, KeepAlive, ref, ComponentInternalInstance, VNode, onUnmounted, onMounted, onActivated, inject } from 'vue';\r\nimport { BackTop } from 'ant-design-vue'\r\nimport { onBeforeRouteLeave } from 'vue-router'\r\nconst GeminiScrollbar = require('gemini-scrollbar')\r\nimport 'gemini-scrollbar/gemini-scrollbar.css'\r\n\r\n\r\ninterface PageInterface {\r\n    color?: string\r\n    title?: string|VNode\r\n}\r\n\r\nconst Page = defineComponent((props: PageInterface, content) => {\r\n    const scrollTop = ref(0);\r\n    const $el: any = ref<Element | ComponentInternalInstance | null>(null);\r\n    const $scroll = ref();\r\n    let myScrollbar: any;\r\n\r\n    // onBeforeRouteLeave((to, from, next) => {\r\n    //     scrollTop.value = $el.value.scrollTop;\r\n    //     next();\r\n    // })\r\n\r\n    onMounted(() => {\r\n        \r\n        myScrollbar = new GeminiScrollbar({\r\n            element: $scroll.value\r\n        }).create();\r\n        $el.value = myScrollbar._viewElement;\r\n    })\r\n\r\n    onActivated(() => {\r\n        // console.log(getCurrentInstance())\r\n    })\r\n\r\n\r\n    onActivated(() => {\r\n        scrollTop.value && (myScrollbar._viewElement.scrollTop = scrollTop.value);\r\n    })\r\n\r\n    onUnmounted(() => {\r\n        myScrollbar.destroy();\r\n    })\r\n\r\n\r\n    return () => <div style={{ position: 'relative', background: props.color, height: '100%', overflow: 'auto'}}>\r\n        <div ref={$scroll}>\r\n            <div style={{ padding: '10px 20px', boxSizing: 'border-box' }}>\r\n                { props.title && <div style={{fontSize: '30px', marginBottom: '20px', letterSpacing: '2px'}}>{props.title}</div> }\r\n                { content.slots.default && content.slots.default() }\r\n            </div>\r\n            \r\n        </div>\r\n        \r\n        <BackTop target={() => $el.value} />\r\n    </div>\r\n\r\n})\r\nPage.props = {\r\n    color: {\r\n        type: String,\r\n        default: '#f5f5f5'\r\n    },\r\n    title: {\r\n        type: [String, String]\r\n    }\r\n}\r\n\r\nexport default Page;"],"sourceRoot":""}