{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./src/components/table.tsx","webpack:///./node_modules/@ant-design/icons-svg/es/asn/AccountBookFilled.js","webpack:///./node_modules/@ant-design/icons-vue/es/icons/AccountBookFilled.js","webpack:///./src/views/table.tsx","webpack:///./src/components/admin/page.tsx"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","Table","props","_data","search","page","current","total","getData","index","data","formatData","_d","forEach","v","item","columns","j","render","dataIndex","undefined","push","value","val","immediate","bordered","rowKey","name","textAlign","margin","title","Function","content","Object","String","type","Boolean","default","_objectSpread","target","i","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","key","_defineProperty","defineProperty","configurable","writable","context","p","attrs","AntdIcon","displayName","inheritAttrs","id","list","marginRight","splice","data2","GeminiScrollbar","Page","myScrollbar","scrollTop","$el","$scroll","element","create","_viewElement","destroy","position","background","color","height","overflow","padding","boxSizing","fontSize","marginBottom","letterSpacing","slots"],"mappings":"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","file":"js/chunk-79f5868a.ecdce045.js","sourcesContent":["export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import { defineComponent, VNode, watch, reactive, ref } from \"vue\";\nimport { Table as ATable, Pagination } from 'ant-design-vue'\n\ninterface Title {\n    (): VNode\n}\ninterface Data {\n    (search: any): void\n}\ninterface TableInterface {\n    title?: Title|string\n    content?: () => VNode\n    columns: any[]\n    data: Data|any[]\n    rowKey?: string,\n    bordered?: boolean,\n}\n\nconst Table = defineComponent((props: TableInterface) => {\n    let _data = ref<any[]>([]);\n    let search = reactive({\n        page: 16,\n        current: 3,\n        total: 0\n    })\n\n    const getData = async (index: number = 1) => {\n        search.current = index\n        const {data,total}: {data: any[], total: number} = await (props.data as any)(search);\n        formatData(data);\n        search.total = total;\n    }\n\n    const formatData = (data: any[]) => {\n        const _d: any[] = [];\n        data.forEach((v, index) => {\n            const item: any = {...v};\n            props.columns.forEach(j => {\n                j.render &&  (item[j.dataIndex] = j.render(v, index, typeof(props.data) == 'function' ? _data : undefined));\n            })\n            _d.push(item)\n        })\n        _data.value = _d;\n    }\n\n    if(typeof(props.data) == 'object') {\n        watch(props.data, (val: any[]) => {\n            formatData(val);\n        }, { immediate: true })\n    } else {\n        getData();\n    }\n    \n\n    return () => <>\n        <ATable\n            bordered={props.bordered}\n            columns={props.columns}\n            dataSource={_data.value}\n            rowKey={props.rowKey}\n            pagination={false}\n            v-slots={{\n                name: () => <div>222222</div>,\n            }}>\n\n        </ATable>\n        { typeof(props.data) == 'function' && <div style={{textAlign: 'center', margin: '15px 0'}}>\n            <Pagination onChange={getData} total={search.total} pageSize={search.page} />\n        </div> }\n    </>\n\n})\n\nTable.props = {\n    title: Function,\n    content: Function,\n    data: [Object, Function],\n    columns: Object,\n    rowKey: String,\n    bordered: {\n        type: Boolean,\n        default: false\n    }\n} as any\n\nexport default Table;","// This icon file is generated automatically.\nvar AccountBookFilled = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zM648.3 426.8l-87.7 161.1h45.7c5.5 0 10 4.5 10 10v21.3c0 5.5-4.5 10-10 10h-63.4v29.7h63.4c5.5 0 10 4.5 10 10v21.3c0 5.5-4.5 10-10 10h-63.4V752c0 5.5-4.5 10-10 10h-41.3c-5.5 0-10-4.5-10-10v-51.8h-63.1c-5.5 0-10-4.5-10-10v-21.3c0-5.5 4.5-10 10-10h63.1v-29.7h-63.1c-5.5 0-10-4.5-10-10v-21.3c0-5.5 4.5-10 10-10h45.2l-88-161.1c-2.6-4.8-.9-10.9 4-13.6 1.5-.8 3.1-1.2 4.8-1.2h46c3.8 0 7.2 2.1 8.9 5.5l72.9 144.3 73.2-144.3a10 10 0 018.9-5.5h45c5.5 0 10 4.5 10 10 .1 1.7-.3 3.3-1.1 4.8z\" } }] }, \"name\": \"account-book\", \"theme\": \"filled\" };\nexport default AccountBookFilled;\n","import * as _vue from \"vue\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? Object(arguments[i]) : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport AccountBookFilledSvg from \"@ant-design/icons-svg/es/asn/AccountBookFilled\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar AccountBookFilled = function AccountBookFilled(props, context) {\n  var p = _objectSpread({}, props, context.attrs);\n\n  return _vue.createVNode(AntdIcon, _vue.mergeProps(p, {\n    \"icon\": AccountBookFilledSvg\n  }), null);\n};\n\nAccountBookFilled.displayName = 'AccountBookFilled';\nAccountBookFilled.inheritAttrs = false;\nexport default AccountBookFilled;","\nimport { defineComponent, reactive, Ref } from 'vue'\nimport Table from '@/components/table'\nimport Page from '@/components/admin/page'\nimport { AccountBookFilled } from \"@ant-design/icons-vue\";\nimport { Button, Card, Popconfirm } from 'ant-design-vue';\nimport Container from '@/components/container';\nimport Br from '@/components/br';\n\nexport default defineComponent(() => {\n\n    const data = reactive([\n        { id: 33, name: '张三' },\n        { id: 32, name: '李四' },\n        { id: 31, name: '大气' }\n    ])\n    const columns = [\n        {\n            dataIndex: 'id',\n            key: 'id',\n            title: 'id'\n        },\n        {\n            dataIndex: 'name',\n            key: 'name',\n            title: <text><AccountBookFilled />标题</text>,\n            render: (data: any, index: number) => <div>{index}--{data.name}</div>\n        },\n        {\n            dataIndex: 'operating',\n            key: 'operating',\n            title: <text>操作</text>,\n            render: (_data: any, index: number, list: Ref<any[]> ) => <div>\n                <Button size='small' type='primary' style={{marginRight: '15px'}}>没设置操作</Button>\n                <Popconfirm\n                    title='确定删除吗'\n                    okText='确定'\n                    cancelText='取消'\n                    onConfirm={() => {\n                        if(list && list.value) {\n                            list.value.splice(index, 1)\n                        } else {\n                            data.splice(index, 1)\n                        }\n                    }}\n                    >\n                    <Button size='small' type='danger' >删除</Button>\n                </Popconfirm>\n                \n            </div>\n        }\n    ]\n\n    const data2 = (search: any) => {\n        return {\n            data: [\n                { id: 33, name: '王五' },\n                { id: 33, name: '赵六' },\n                { id: 34, name: '赵awdawd六' }\n            ],\n            total: 100\n        };\n    }\n\n    return () => <Page title='还不完整的table组件'>\n      \n        <Card title='传值渲染'>\n            <Table data={data}\n                bordered\n                columns={columns}\n                rowKey='id'>\n\n            </Table>\n        </Card>\n        <Br />\n        <Card title='通过render渲染'>\n            <Table data={data2}\n                bordered\n                columns={columns}\n                rowKey='id'>\n\n            </Table>\n        </Card>\n    </Page>\n\n})","import { defineComponent, getCurrentInstance, KeepAlive, ref, ComponentInternalInstance, VNode, onUnmounted, onMounted, onActivated, inject } from 'vue';\nimport { BackTop } from 'ant-design-vue'\nimport { onBeforeRouteLeave } from 'vue-router'\nconst GeminiScrollbar = require('gemini-scrollbar')\nimport 'gemini-scrollbar/gemini-scrollbar.css'\n\n\ninterface PageInterface {\n    color?: string\n    title?: string|VNode\n}\n\nconst Page = defineComponent((props: PageInterface, content) => {\n    const scrollTop = ref(0);\n    const $el: any = ref<Element | ComponentInternalInstance | null>(null);\n    const $scroll = ref();\n    let myScrollbar: any;\n\n    // onBeforeRouteLeave((to, from, next) => {\n    //     scrollTop.value = $el.value.scrollTop;\n    //     next();\n    // })\n\n    onMounted(() => {\n        \n        myScrollbar = new GeminiScrollbar({\n            element: $scroll.value\n        }).create();\n        $el.value = myScrollbar._viewElement;\n    })\n\n    onActivated(() => {\n        // console.log(getCurrentInstance())\n    })\n\n\n    onActivated(() => {\n        scrollTop.value && (myScrollbar._viewElement.scrollTop = scrollTop.value);\n    })\n\n    onUnmounted(() => {\n        myScrollbar.destroy();\n    })\n\n\n    return () => <div style={{ position: 'relative', background: props.color, height: '100%', overflow: 'auto'}}>\n        <div ref={$scroll}>\n            <div style={{ padding: '10px 20px', boxSizing: 'border-box' }}>\n                { props.title && <div style={{fontSize: '30px', marginBottom: '20px', letterSpacing: '2px'}}>{props.title}</div> }\n                { content.slots.default && content.slots.default() }\n            </div>\n            \n        </div>\n        \n        <BackTop target={() => $el.value} />\n    </div>\n\n})\nPage.props = {\n    color: {\n        type: String,\n        default: '#f5f5f5'\n    },\n    title: {\n        type: [String, String]\n    }\n}\n\nexport default Page;"],"sourceRoot":""}