{"version":3,"sources":["webpack:///./node_modules/ant-design-vue/es/_util/getScroll.js","webpack:///./node_modules/ant-design-vue/es/back-top/backTopTypes.js","webpack:///./node_modules/ant-design-vue/es/back-top/index.js","webpack:///./src/components/admin/page.tsx","webpack:///./src/components/simplemde.tsx","webpack:///./src/views/rich-text/md.tsx","webpack:///./node_modules/ant-design-vue/es/_util/easings.js","webpack:///./node_modules/ant-design-vue/es/_util/scrollTo.js"],"names":["getScroll","target","top","window","prop","method","isWindow","ret","document","documentElement","visibilityHeight","number","func","prefixCls","string","onClick","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","getDefaultTarget","backTopTypes","BackTop","name","inheritAttrs","mixins","BaseMixin","props","def","setup","configProvider","data","this","scrollEvent","visible","mounted","_this","$nextTick","getTarget","addEventListener","handleScroll","beforeUnmount","remove","methods","getCurrentScrollTop","targetNode","pageYOffset","body","scrollTop","scrollToTop","e","_this$target","scrollTo","getContainer","$emit","_this$target2","setState","render","customizePrefixCls","$slots","getPrefixCls","classString","$attrs","class","defaultElement","concat","divProps","backTopBtn","default","transitionProps","getTransitionProps","app","component","GeminiScrollbar","Page","content","myScrollbar","$el","$scroll","element","create","_viewElement","destroy","position","background","color","height","overflow","padding","boxSizing","title","fontSize","marginBottom","letterSpacing","slots","type","String","Md","simplemde","$md","_value","modelValue","val","codemirror","setValue","readImg","file","Promise","resolve","reader","FileReader","readAsDataURL","onload","result","readMdFile","readAsText","isMdFile","test","isImgFile","renderingConfig","singleLineBreaks","codeSyntaxHighlighting","on","editor","dataTransfer","files","getValue","clipboardData","items","item","kind","getAsFile","indexOf","emit","easeInOutCubic","t","b","c","d","cc","y","options","undefined","_options$getContainer","callback","_options$duration","duration","container","startTime","Date","now","frameFunc","timestamp","time","nextScrollTop","pageXOffset"],"mappings":"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","file":"js/chunk-31a022f4.5fd3a178.js","sourcesContent":["export default function getScroll(target, top) {\n  if (typeof window === 'undefined') {\n    return 0;\n  }\n\n  var prop = top ? 'pageYOffset' : 'pageXOffset';\n  var method = top ? 'scrollTop' : 'scrollLeft';\n  var isWindow = target === window;\n  var ret = isWindow ? target[prop] : target[method]; // ie6,7,8 standard mode\n\n  if (isWindow && typeof ret !== 'number') {\n    ret = window.document.documentElement[method];\n  }\n\n  return ret;\n}","import PropTypes from '../_util/vue-types';\nexport default (function () {\n  return {\n    visibilityHeight: PropTypes.number,\n    // onClick?: React.MouseEventHandler<any>;\n    target: PropTypes.func,\n    prefixCls: PropTypes.string,\n    onClick: PropTypes.func // visible: PropTypes.bool, // Only for test. Don't use it.\n\n  };\n});","import * as _vue from \"vue\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { inject, Transition } from 'vue';\nimport classNames from 'classnames';\nimport PropTypes from '../_util/vue-types';\nimport backTopTypes from './backTopTypes';\nimport addEventListener from '../vc-util/Dom/addEventListener';\nimport getScroll from '../_util/getScroll';\nimport BaseMixin from '../_util/BaseMixin';\nimport getTransitionProps from '../_util/getTransitionProps';\nimport { ConfigConsumerProps } from '../config-provider';\nimport scrollTo from '../_util/scrollTo';\n\nfunction getDefaultTarget() {\n  return window;\n}\n\nvar props = backTopTypes();\nvar BackTop = {\n  name: 'ABackTop',\n  inheritAttrs: false,\n  mixins: [BaseMixin],\n  props: _objectSpread(_objectSpread({}, props), {}, {\n    visibilityHeight: PropTypes.number.def(400)\n  }),\n  setup: function setup() {\n    return {\n      configProvider: inject('configProvider', ConfigConsumerProps)\n    };\n  },\n  data: function data() {\n    this.scrollEvent = null;\n    return {\n      visible: false\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      var getTarget = _this.target || getDefaultTarget;\n      _this.scrollEvent = addEventListener(getTarget(), 'scroll', _this.handleScroll);\n\n      _this.handleScroll();\n    });\n  },\n  beforeUnmount: function beforeUnmount() {\n    if (this.scrollEvent) {\n      this.scrollEvent.remove();\n    }\n  },\n  methods: {\n    getCurrentScrollTop: function getCurrentScrollTop() {\n      var getTarget = this.target || getDefaultTarget;\n      var targetNode = getTarget();\n\n      if (targetNode === window) {\n        return window.pageYOffset || document.body.scrollTop || document.documentElement.scrollTop;\n      }\n\n      return targetNode.scrollTop;\n    },\n    scrollToTop: function scrollToTop(e) {\n      var _this$target = this.target,\n          target = _this$target === void 0 ? getDefaultTarget : _this$target;\n      scrollTo(0, {\n        getContainer: target\n      });\n      this.$emit('click', e);\n    },\n    handleScroll: function handleScroll() {\n      var visibilityHeight = this.visibilityHeight,\n          _this$target2 = this.target,\n          target = _this$target2 === void 0 ? getDefaultTarget : _this$target2;\n      var scrollTop = getScroll(target(), true);\n      this.setState({\n        visible: scrollTop > visibilityHeight\n      });\n    }\n  },\n  render: function render() {\n    var customizePrefixCls = this.prefixCls,\n        $slots = this.$slots;\n    var getPrefixCls = this.configProvider.getPrefixCls;\n    var prefixCls = getPrefixCls('back-top', customizePrefixCls);\n    var classString = classNames(prefixCls, this.$attrs.class);\n\n    var defaultElement = _vue.createVNode(\"div\", {\n      \"class\": \"\".concat(prefixCls, \"-content\")\n    }, [_vue.createVNode(\"div\", {\n      \"class\": \"\".concat(prefixCls, \"-icon\")\n    }, null)]);\n\n    var divProps = _objectSpread(_objectSpread({}, this.$attrs), {}, {\n      onClick: this.scrollToTop,\n      class: classString\n    });\n\n    var backTopBtn = this.visible ? _vue.createVNode(\"div\", divProps, [$slots.default && $slots.default() || defaultElement]) : null;\n    var transitionProps = getTransitionProps('fade');\n    return _vue.createVNode(Transition, transitionProps, {\n      default: function _default() {\n        return [backTopBtn];\n      }\n    });\n  }\n};\n/* istanbul ignore next */\n\nBackTop.install = function (app) {\n  app.component(BackTop.name, BackTop);\n};\n\nexport default BackTop;","import { defineComponent, getCurrentInstance, KeepAlive, ref, ComponentInternalInstance, VNode, onUnmounted, onMounted, onActivated, inject } from 'vue';\r\nimport { BackTop } from 'ant-design-vue'\r\nimport { onBeforeRouteLeave } from 'vue-router'\r\nconst GeminiScrollbar = require('gemini-scrollbar')\r\nimport 'gemini-scrollbar/gemini-scrollbar.css'\r\n\r\n\r\ninterface PageInterface {\r\n    color?: string\r\n    title?: string|VNode\r\n}\r\n\r\nconst Page = defineComponent((props: PageInterface, content) => {\r\n    const scrollTop = ref(0);\r\n    const $el: any = ref<Element | ComponentInternalInstance | null>(null);\r\n    const $scroll = ref();\r\n    let myScrollbar: any;\r\n\r\n    // onBeforeRouteLeave((to, from, next) => {\r\n    //     scrollTop.value = $el.value.scrollTop;\r\n    //     next();\r\n    // })\r\n\r\n    onMounted(() => {\r\n        \r\n        myScrollbar = new GeminiScrollbar({\r\n            element: $scroll.value\r\n        }).create();\r\n        $el.value = myScrollbar._viewElement;\r\n    })\r\n\r\n    onActivated(() => {\r\n        // console.log(getCurrentInstance())\r\n    })\r\n\r\n\r\n    onActivated(() => {\r\n        scrollTop.value && (myScrollbar._viewElement.scrollTop = scrollTop.value);\r\n    })\r\n\r\n    onUnmounted(() => {\r\n        myScrollbar.destroy();\r\n    })\r\n\r\n\r\n    return () => <div style={{ position: 'relative', background: props.color, height: '100%', overflow: 'auto'}}>\r\n        <div ref={$scroll}>\r\n            <div style={{ padding: '10px 20px', boxSizing: 'border-box' }}>\r\n                { props.title && <div style={{fontSize: '30px', marginBottom: '20px', letterSpacing: '2px'}}>{props.title}</div> }\r\n                { content.slots.default && content.slots.default() }\r\n            </div>\r\n            \r\n        </div>\r\n        \r\n        <BackTop target={() => $el.value} />\r\n    </div>\r\n\r\n})\r\nPage.props = {\r\n    color: {\r\n        type: String,\r\n        default: '#f5f5f5'\r\n    },\r\n    title: {\r\n        type: [String, String]\r\n    }\r\n}\r\n\r\nexport default Page;","import SimpleMDE from 'simplemde';\r\nimport { defineComponent, ref, onMounted, watch, onDeactivated, onUnmounted } from 'vue';\r\nimport 'simplemde/dist/simplemde.min.css'\r\n\r\nconst Md = defineComponent((props: { value?: string }, content) => {\r\n\r\n    let simplemde!: SimpleMDE\r\n\r\n    const $md = ref(null);\r\n    let _value: string = '';\r\n\r\n    watch(() => (props as any).modelValue, (val: string) => {\r\n        if(val == _value) return;\r\n        simplemde.codemirror.setValue(val)\r\n    })\r\n\r\n    const readImg = (file: File) => {\r\n        return new Promise(resolve => {\r\n            var reader = new FileReader();　　　　//实例化\r\n\t\t\treader.readAsDataURL(file);　　　　　　//加载\r\n\t\t\treader.onload = function (e) {\r\n\t\t\t\tresolve({type: 'img', content: reader.result})\r\n\t\t\t}\r\n        })\r\n    }\r\n\r\n    const readMdFile = (file: File) => {\r\n\t\treturn new Promise(resolve => {\r\n\t\t\tvar reader = new FileReader();\r\n\t\t\treader.onload = () => {\r\n\t\t\t\tresolve({type:'md',content: reader.result})\r\n\t\t\t};\r\n\t\t\treader.readAsText(file);\r\n\t\t})\r\n    }\r\n    \r\n    //判断是否为.md文件\r\n\tconst isMdFile = (name: string): boolean => {\r\n\t\treturn /^.*[.](md)$/.test(name)\r\n\t}\r\n\r\n\t//判断是否为图片文件\r\n\tconst isImgFile = (name: string): boolean => {\r\n\t\treturn /^.*[.](png|gif|jpe?g)$/.test(name)\r\n\t}\r\n\r\n    onMounted(() => {\r\n        \r\n        simplemde = new SimpleMDE({ \r\n            element: $md.value as any, \r\n            renderingConfig: {\r\n\t\t\t\tsingleLineBreaks: false,\r\n\t\t\t\tcodeSyntaxHighlighting: true,\r\n\t\t\t}\r\n        })\r\n        simplemde.codemirror.setValue((props as any).modelValue||props.value||'')\r\n        simplemde.codemirror.on('drop', async (editor: any, e: any) => {\r\n            if(e.dataTransfer.files.length == 0) return;\r\n            const file: File = e.dataTransfer.files[0];\r\n            let result: any;\r\n            if(isImgFile(file.name)) {\r\n                result = await readImg(file);\r\n                simplemde.codemirror.setValue(simplemde.codemirror.getValue()+'![]('+result.content+')');\r\n            } else if(isMdFile(file.name)) {\r\n                result = await readMdFile(file);\r\n                simplemde.codemirror.setValue(result.content)\r\n            }\r\n        })\r\n        simplemde.codemirror.on('paste', async (editor: any, e: any) => {\r\n            if(!e.clipboardData) return\r\n            if(!e.clipboardData.items) return\r\n            if(!e.clipboardData.items[0]) return\r\n            const item = e.clipboardData.items[0]\r\n            if(!item) return\r\n            if(item.kind === 'file' && item.getAsFile().type.indexOf('image') !== -1) {\r\n                const result: any = await readImg(item.getAsFile());\r\n                simplemde.codemirror.setValue(simplemde.codemirror.getValue()+'![]('+result.content+')');\r\n            }\r\n        })\r\n        simplemde.codemirror.on('change', () => {\r\n            _value = simplemde.codemirror.getValue();\r\n            content.emit('update:modelValue', _value)\r\n\t\t})\r\n    })\r\n\r\n\r\n    return () => <div class='md-container'>\r\n        <textarea ref={$md}></textarea>\r\n    </div>\r\n\r\n})\r\n\r\nMd.props = {\r\n    modelValue: String,\r\n    value: String\r\n} as any\r\n\r\nexport default Md","import { ref, defineComponent } from 'vue';\r\nimport Page from '@/components/admin/page';\r\nimport Md from '@/components/simplemde';\r\nimport { Card } from 'ant-design-vue';\r\nimport Br from '@/components/br';\r\n\r\n\r\nexport default defineComponent(() => {\r\n\r\n\r\n    const value = ref('222');\r\n\r\n    return () => <Page>\r\n        <Card title='编辑内容'>\r\n            {value.value}\r\n        </Card>\r\n        <Br />\r\n        <Md v-model={value.value} />\r\n    </Page>\r\n\r\n})","export function easeInOutCubic(t, b, c, d) {\n  var cc = c - b;\n  t /= d / 2;\n\n  if (t < 1) {\n    return cc / 2 * t * t * t + b;\n  }\n\n  return cc / 2 * ((t -= 2) * t * t + 2) + b;\n}","import raf from 'raf';\nimport getScroll from './getScroll';\nimport { easeInOutCubic } from './easings'; // interface ScrollToOptions {\n//   /** Scroll container, default as window */\n//   getContainer?: () => HTMLElement | Window;\n//   /** Scroll end callback */\n//   callback?: () => any;\n//   /** Animation duration, default as 450 */\n//   duration?: number;\n// }\n\nexport default function scrollTo(y) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$getContainer = options.getContainer,\n      getContainer = _options$getContainer === void 0 ? function () {\n    return window;\n  } : _options$getContainer,\n      callback = options.callback,\n      _options$duration = options.duration,\n      duration = _options$duration === void 0 ? 450 : _options$duration;\n  var container = getContainer();\n  var scrollTop = getScroll(container, true);\n  var startTime = Date.now();\n\n  var frameFunc = function frameFunc() {\n    var timestamp = Date.now();\n    var time = timestamp - startTime;\n    var nextScrollTop = easeInOutCubic(time > duration ? duration : time, scrollTop, y, duration);\n\n    if (container === window) {\n      window.scrollTo(window.pageXOffset, nextScrollTop);\n    } else {\n      container.scrollTop = nextScrollTop;\n    }\n\n    if (time < duration) {\n      raf(frameFunc);\n    } else if (typeof callback === 'function') {\n      callback();\n    }\n  };\n\n  raf(frameFunc);\n}"],"sourceRoot":""}